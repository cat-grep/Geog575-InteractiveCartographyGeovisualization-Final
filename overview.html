<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>The Big Picture</title>

    <link rel="stylesheet" href="./lib/bootstrap.min.css">

    <link rel="stylesheet" href="css/style.css">

    <link rel="stylesheet" href="css/overview.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Exo+2:ital,wght@0,100..900;1,100..900&family=Josefin+Slab:ital,wght@0,100..700;1,100..700&display=swap"
        rel="stylesheet">

</head>

<body>
    <nav class="navbar navbar-expand-md navbar-dark bg-dark border-bottom py-3">
        <div class="container-fluid">
            <a class="navbar-brand fw-bold text-light" href="index.html">Canada Fraud Watch</a>

            <!-- Mobile toggle button -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNavbar"
                aria-controls="mainNavbar" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <!-- Nav links -->
            <div class="collapse navbar-collapse justify-content-end" id="mainNavbar">
                <ul class="navbar-nav mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link text-light" href="index.html">Personal Risk</a>
                    </li>
                    <li class="nav-item">
                        <!-- mark current page as active -->
                        <a class="nav-link active text-white bg-primary rounded px-3" aria-current="page"
                            href="overview.html">
                            The Big Picture
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-light" href="comparison.html">Side-by-Side</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-light" href="info.html">Learn About Fraud</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container-fluid mt-3 d-flex flex-column" id="main-content">
        <div class="row g-3 h-100">
            <div class="col-lg-6 d-flex">
                <div class="panel w-100 border rounded-3 shadow-sm p-3 d-flex flex-column" id="mapPanel"
                    style="min-height: 500px;">
                    <div class="panel-title d-flex justify-content-between align-items-center">
                        <h2>Nationwide Fraud Overview</h2>
                        <div class="btn-group" role="group">
                            <button type="button" class="btn btn-sm btn-success" id="btnCase">Cases</button>
                            <button type="button" class="btn btn-sm" id="btnLoss">Loss ($)</button>
                        </div>
                    </div>
                    <div class="panel-subtitle" id="mapSubtitle"></div>

                    <div id="mapContainer" class="flex-grow-1 position-relative">
                        <svg id="map" class="w-100 h-100" style="display:block;"></svg>

                        <div id="mapLegend">
                            <div id="legendLabel"></div>
                            <div id="mapLegendGradient"></div>
                            <div id="legendScale" class="d-flex justify-content-between">
                                <span id="legendMin">0</span>
                                <span id="legendMax">0</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="d-flex flex-column gap-3 h-100">

                    <div class="row g-3 flex-grow-1">
                        <div class="col-md-6">
                            <div class="panel h-100 border rounded-3 shadow-sm p-3 d-flex flex-column"
                                id="trendChartContainer">
                                <div class="panel-title d-flex justify-content-between align-items-center">
                                    <h4>Trend over time</h4>
                                    <button id="allYearsBtn" class="selectAllBtn active rounded" type="button">All
                                        Years</button>
                                </div>
                                <div class="flex-grow-1" style="min-height: 200px;">
                                    <svg id="trendChart" class="w-100 h-100"></svg>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="panel h-100 border rounded-3 shadow-sm p-3 d-flex flex-column"
                                id="barChartContainer">
                                <div class="panel-title">
                                    <h4>Top regions</h4>
                                </div>
                                <div class="flex-grow-1" style="min-height: 200px;">
                                    <svg id="barChart" class="w-100"></svg>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row g-3 flex-grow-1">
                        <div class="col-md-6">
                            <div class="panel h-100 border rounded-3 shadow-sm p-3 d-flex flex-column"
                                id="genderChartContainer">
                                <div class="panel-title d-flex justify-content-between align-items-center">
                                    <h4>Share by Gender</h4>
                                    <button id="allGendersBtn" class="selectAllBtn active rounded" type="button">All
                                        Genders</button>
                                </div>
                                <div class="flex-grow-1" style="min-height: 200px;">
                                    <svg id="genderChart" class="w-100 h-100"></svg>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="panel h-100 border rounded-3 shadow-sm p-3 d-flex flex-column"
                                id="donutContainer">
                                <div class="panel-title d-flex justify-content-between align-items-center">
                                    <h4>Share by Age Group</h4>
                                    <button id="allAgesBtn" class="selectAllBtn active rounded" type="button">All
                                        Ages</button>
                                </div>
                                <div class="flex-grow-1" style="min-height: 200px;">
                                    <svg id="donutChart" class="w-100 h-100"></svg>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="chart-tooltip" id="tooltip" style="display:none"></div>

    <footer class="mt-5 pt-4 pb-3 bg-dark text-light">
        <div class="col-10 mx-auto">
            <div class="row small">
                <div class="col-12 col-md-4 mb-3 mb-md-0">
                    <h6 class="text-uppercase fw-bold mb-1">Credits</h6>
                    <p class="mb-0">
                        Design & Development: Eugenie Huang, Elijah Gardner Woods, Darbie Gibbs<br>
                        Dashboard created for UW Madison GEOG 575 course Fall 2025.
                    </p>
                </div>

                <div class="col-12 col-md-4 mb-3 mb-md-0">
                    <h6 class="text-uppercase fw-bold mb-1">Data sources</h6>
                    <p class="mb-0">
                        Canadian Anti-Fraud Centre reporting data<br>
                        Boundary data: Statistics Canada / Natural Resources Canada
                    </p>
                </div>

                <div class="col-12 col-md-4">
                    <h6 class="text-uppercase fw-bold mb-1">Notes</h6>
                    <p class="mb-0">
                        Figures are based on reported cases only and do not capture
                        unreported fraud incidents.
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <script type="text/javascript" src="lib/jquery-3.5.1.js"></script>
    <script type="text/javascript" src="lib/bootstrap.min.js"></script>

    <!-- D3 + topojson from CDN -->
    <script src="https://unpkg.com/d3@7/dist/d3.min.js"></script>
    <script src="https://unpkg.com/topojson-client@3/dist/topojson-client.min.js"></script>

    <script type="text/javascript" src="js/overview.js"></script>


</body>

</html>