<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>The Big Picture</title>

    <link rel="stylesheet" href="./lib/bootstrap.min.css">

    <link rel="stylesheet" href="css/style.css">

    <link rel="stylesheet" href="css/overview.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Exo+2:ital,wght@0,100..900;1,100..900&family=Josefin+Slab:ital,wght@0,100..700;1,100..700&display=swap"
        rel="stylesheet">

</head>

<body>
    <nav class="navbar navbar-expand-md navbar-dark bg-dark border-bottom py-3">
        <div class="container-fluid">
            <a class="navbar-brand fw-bold text-light" href="index.html">Canada Fraud Watch</a>

            <!-- Mobile toggle button -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNavbar"
                aria-controls="mainNavbar" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <!-- Nav links -->
            <div class="collapse navbar-collapse justify-content-end" id="mainNavbar">
                <ul class="navbar-nav mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link text-light" href="index.html">Personal Risk</a>
                    </li>
                    <li class="nav-item">
                        <!-- mark current page as active -->
                        <a class="nav-link active text-white bg-primary rounded px-3" aria-current="page"
                            href="overview.html">
                            The Big Picture
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-light" href="comparison.html">Side-by-Side</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-light" href="info.html">Learn About Fraud</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div id="controls">
        <div>
            Metric:
            <label><input type="radio" name="metric" value="cases" checked> Cases</label>
            <label><input type="radio" name="metric" value="loss"> Loss ($)</label>
        </div>
        <div>
            Gender:
            <select id="genderSelect"></select>
        </div>
        <div>
            Age range:
            <select id="ageSelect"></select>
        </div>
        <div style="align-items: center;">
            <span>Year:</span>
            <input id="yearSlider" type="range">
            <span id="yearLabel"></span>
            <button id="allYearsBtn" class="active rounded" type="button">All years</button>
        </div>
    </div>

    <div id="layout" class="container-fluid">
        <div class="row">
            <!-- LEFT: MAP (half width on md+ screens) -->
            <div class="col-12 col-md-6">
                <div class="panel h-100" id="mapPanel">
                    <div class="panel-title d-flex justify-content-between">
                        <span>Choropleth map</span>
                        <span id="mapTitleMetric" style="font-size:11px;color:#6b7280;"></span>
                    </div>
                    <div class="panel-subtitle" id="mapSubtitle"></div>
                    <div id="mapContainer">
                        <svg id="map" class="w-100"></svg>
                        <div id="mapLegend">
                            <div id="legendLabel"></div>
                            <div id="mapLegendGradient"></div>
                            <div id="legendScale" class="d-flex justify-content-between" style="font-size:10px;">
                                <span id="legendMin">0</span>
                                <span id="legendMax">0</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- RIGHT: TWO CHARTS STACKED (half width on md+ screens) -->
            <div class="col-12 col-md-6">
                <div class="panel h-100" id="chartsPanel">
                    <div id="chartsContainer" class="d-flex flex-column gap-3">
                        <div class="chart" id="trendChartContainer">
                            <div class="panel-title">
                                <span>Trend over time</span>
                            </div>
                            <div class="panel-subtitle">
                                Click a point on the line to select that year.
                            </div>
                            <svg id="trendChart" class="w-100"></svg>
                        </div>

                        <div class="chart" id="barChartContainer">
                            <div class="panel-title">
                                <span>Top regions for selected year</span>
                            </div>
                            <div class="panel-subtitle" id="barSubtitle"></div>
                            <svg id="barChart" class="w-100"></svg>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="tooltip" id="tooltip"></div>

    <script type="text/javascript" src="lib/jquery-3.5.1.js"></script>

    <!-- D3 + topojson from CDN -->
    <script src="https://unpkg.com/d3@7/dist/d3.min.js"></script>
    <script src="https://unpkg.com/topojson-client@3/dist/topojson-client.min.js"></script>

    <script type="text/javascript" src="js/overview.js"></script>

</body>

</html>